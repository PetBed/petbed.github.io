body {
    font-family: 'Inter', sans-serif;
}

.calendar-grid {
    grid-template-columns: repeat(7, minmax(0, 1fr));
}

.day {
    transition: all 0.2s ease-in-out;
}

.day:hover {
    transform: scale(1.05);
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
}

::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: #f1f5f9;
}

::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
}

.task-item:hover .delete-task-btn,
.subtask-item:hover .delete-subtask-btn {
    opacity: 1;
}

.nav-btn {
    transition: all 0.2s ease-in-out;
}

.nav-btn.active {
    background-color: #3b82f6;
    color: white;
}

/* Hide scrollbar for the horizontal countdown list */
.hide-scrollbar::-webkit-scrollbar {
    display: none;
}

.hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
}

/* Dark mode scrollbar */
html.dark ::-webkit-scrollbar-track {
    background: #1e293b;
}

html.dark ::-webkit-scrollbar-thumb {
    background: #475569;
}

html.dark ::-webkit-scrollbar-thumb:hover {
    background: #64748b;
}

/* Custom Toggle */
.toggle-checkbox:checked {
    border-color: #3b82f6;
    transform: translateX(1rem); /* Corrected value */
}
.toggle-checkbox:checked + .toggle-label {
    background-color: #3b82f6;
}
.toggle-checkbox {
    transition: all .2s ease-in-out;
}

.perspective {
    perspective: 1000px;
}

#flashcard-flipper, #card-preview-flipper {
    transition: transform 0.6s;
    transform-style: preserve-3d;
    cursor: pointer;
}

.flashcard-face {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden; /* Safari */
    display: block;
    text-align: left;
    padding: 2rem;
    border-radius: 1rem;
    font-size: 1rem; /* Base font size */
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    overflow-y: auto; /* Allow scrolling for long content */
}

#flashcard-front, #card-preview-front {
    background-color: white;
    color: #1e293b;
}

.dark #flashcard-front, .dark #card-preview-front {
    background-color: #334155; /* slate-700 */
    color: #f1f5f9; /* slate-100 */
}

#flashcard-back, #card-preview-back {
    background-color: #e2e8f0; /* slate-200 */
    color: #1e293b;
    transform: rotateY(180deg);
}

.dark #flashcard-back, .dark #card-preview-back {
    background-color: #1e293b; /* slate-800 */
    color: #f1f5f9; /* slate-100 */
}

#flashcard-flipper.is-flipped, #card-preview-flipper.is-flipped {
    transform: rotateY(180deg);
}

.card-preview-flipper {
    transition: transform 0.6s;
    transform-style: preserve-3d;
    cursor: pointer;
    width: 100%;
    height: 12rem; /* Give the card a fixed height */
}

.card-preview-face {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden; /* Safari */
    display: block;
    text-align: left;
    padding: 1rem;
    border-radius: 0.5rem;
    font-size: 0.875rem; /* Smaller font size */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    overflow-y: auto; /* Allow scrolling */
    word-break: break-word;
}

.card-preview-face.front {
    background-color: white;
    color: #1e293b;
}
.dark .card-preview-face.front {
    background-color: #334155;
    color: #f1f5f9;
}
.card-preview-face.back {
    background-color: #f1f5f9;
    color: #1e293b;
    transform: rotateY(180deg);
}
.dark .card-preview-face.back {
    background-color: #1e293b;
    color: #f1f5f9;
}
.card-preview-flipper.is-flipped {
    transform: rotateY(180deg);
}

.flashcard-face > *:first-child, .card-preview-face > *:first-child {
    margin-top: 0;
}
.flashcard-face > *:last-child, .card-preview-face > *:last-child {
    margin-bottom: 0;
}

/* .flashcard-face > *, .card-preview-face > * {
    margin-left: auto;
    margin-right: auto;
} */

.flashcard-face h1, .card-preview-face h1,
.flashcard-face h2, .card-preview-face h2,
.flashcard-face h3, .card-preview-face h3,
.flashcard-face h4, .card-preview-face h4 {
    margin-top: 0.75em;
    margin-bottom: 0.25em;
    font-weight: 700;
    line-height: 1.2;
}

.flashcard-face h1, .card-preview-face h1 { font-size: 1.8em; }
.flashcard-face h2, .card-preview-face h2 { font-size: 1.5em; }
.flashcard-face h3, .card-preview-face h3 { font-size: 1.25em; }
.flashcard-face h4, .card-preview-face h4 { font-size: 1.1em; }

.flashcard-face ul, .flashcard-face ol,
.card-preview-face ul, .card-preview-face ol {
    text-align: left;
    list-style-position: outside;
    padding-left: 1.5em; /* Proper indentation */
    margin-top: 0.5em;
    margin-bottom: 0.5em;
}
.flashcard-face ul, .card-preview-face ul { list-style-type: disc; }
.flashcard-face ol, .card-preview-face ol { list-style-type: decimal; }

.flashcard-face li,
.card-preview-face li {
    margin-bottom: 0.25rem;
}

.flashcard-face p,
.card-preview-face p {
    margin: 0.5rem 0;
}

.flashcard-face code,
.card-preview-face code {
    background-color: rgba(0,0,0,0.08);
    padding: 0.125rem 0.25rem;
    border-radius: 0.25rem;
    font-family: monospace;
    font-size: 0.9em;
}

.dark .flashcard-face code,
.dark .card-preview-face code {
    background-color: rgba(255,255,255,0.1);
}

.flashcard-face blockquote,
.card-preview-face blockquote {
    border-left: 4px solid #cbd5e1;
    padding-left: 1rem;
    margin-left: 0;
    color: #64748b;
    font-style: italic;
}
.dark .flashcard-face blockquote,
.dark .card-preview-face blockquote {
    border-left-color: #475569;
    color: #94a3b8;
}

.flashcard-face hr,
.card-preview-face hr {
    border-top: 1px solid #e2e8f0;
    margin: 1em 0;
}
.dark .flashcard-face hr,
.dark .card-preview-face hr {
    border-top-color: #334155;
}

.flashcard-preview-container {
    position: relative;
    /* This container holds the card and the drag handle */
}

.drag-handle {
    position: absolute;
    top: 8px;
    left: 8px;
    cursor: grab;
    color: #94a3b8; /* slate-400 */
    opacity: 0;
    transition: opacity 0.2s;
    z-index: 20; /* Ensure it's above the card face */
}

.flashcard-preview-container:hover .drag-handle {
    opacity: 1;
}

.sortable-ghost {
    opacity: 0.4;
}

.sortable-drag {
    cursor: grabbing;
}

#claim-drop-btn {
    position: relative;
}

#claim-notification {
    pointer-events: none; /* Make sure it doesn't block clicks on the button */
}

/* Styles for the claim modal card choices */
.claim-card-container {
    position: relative;
    z-index: 1;
    transform-style: preserve-3d;
    transform: perspective(1000px);
    aspect-ratio: 5 / 7;
}

.claim-card-container:hover {
    transform: translateY(-5px) scale(1.03);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}


/* Styles for different rarity text/borders */
.rarity-common { color: #64748b; border-color: #cbd5e1; }
.rarity-uncommon { color: #16a34a; border-color: #86efac; }
.rarity-rare { color: #2563eb; border-color: #93c5fd; }
.rarity-epic { color: #7e22ce; border-color: #d8b4fe; }
.rarity-legendary { color: #d97706; border-color: #fde68a; }
.rarity-mythic { color: #dc2626; border-color: #fca5a5; }

/* .claim-card-container {
    position: relative;
    z-index: 1;
    transform-style: preserve-3d;
    transform: perspective(1000px);
} */

/* Shiny/Holo Effect */
.card-version-shiny::before {
    content: '';
    position: absolute;
    top: 0;
    left: -80%;
    width: 50%;
    height: 100%;
    background: linear-gradient(
        to right,
        rgba(255, 255, 255, 0) 0%,
        rgba(255, 255, 255, 0.4) 50%,
        rgba(255, 255, 255, 0) 100%
    );
    transform: skewX(-25deg);
    animation: shiny-effect 3.5s infinite linear;
    z-index: 2; /* Position it above the card content */
}

@keyframes shiny-effect {
    from {
        left: -80%;
    }
    to {
        left: 130%;
    }
}

/* Gold Effect */
.card-version-gold {
    background: linear-gradient(135deg, #fceabb 0%, #f8b500 25%, #f69d00 50%, #f08b00 75%, #e17700 100%);
}
/* Ensure text inside gold card is readable */
.card-version-gold h3,
.card-version-gold p,
.card-version-gold div,
.dark .card-version-gold h3,
.dark .card-version-gold p,
.dark .card-version-gold div {
    color: #422800;
    text-shadow: 0 1px 1px rgba(255, 255, 255, 0.3);
}

.card-version-gold::before {
    content: '';
    position: absolute;
    top: -10%;
    left: -100%;
    width: 40%;
    height: 120%;
    background: linear-gradient(
        to right,
        rgba(255, 255, 255, 0) 0%,
        rgba(255, 255, 255, 0.35) 50%,
        rgba(255, 255, 255, 0) 100%
    );
    transform: skewX(-20deg);
    animation: gold-glint 4s infinite ease-in-out;
    z-index: 2;
}

@keyframes gold-glint {
    0% {
        left: -100%;
    }
    40% {
        left: 150%;
    }
    100% {
        left: 150%;
    }
}

/* Ensure the main card content (text, image, etc.) is not affected by the overlays */
.claim-card-container > * {
    position: relative;
    z-index: 1;
}

.claim-card-container > div {
    /* Apply a small 3D translation to child divs for a layered effect */
    transform: translateZ(20px);
}
.claim-card-container .card-image-wrapper {
    /* Make the image pop out more */
    transform: translateZ(40px);
}

.binder-card {
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
    aspect-ratio: 5 / 7;
}

.binder-card:hover {
    transform: translateY(-4px) scale(1.05);
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
}

#card-detail-modal {
    transition: opacity 0.3s ease;
}