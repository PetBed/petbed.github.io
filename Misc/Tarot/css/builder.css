/* --- TAROT TABLE & BUILDER --- */
.tarot-table {
    flex-grow: 1; position: relative; overflow: hidden;
    background-image: radial-gradient(#1f2129 1px, transparent 1px); background-size: 20px 20px;
    touch-action: none; 
}
.builder-surface {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background-image: radial-gradient(#1f2129 1px, transparent 1px); background-size: 20px 20px;
    transform-origin: 0 0; touch-action: none;
}
.empty-state {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    color: var(--text-muted); font-style: italic; width: 100%; text-align: center;
}
.card-slot {
    position: absolute; width: 90px; height: 145px;
    background: rgba(255,255,255,0.03); border: 1px dashed var(--border-active); border-radius: 6px;
    display: flex; align-items: center; justify-content: center;
    color: var(--text-muted); font-size: 0.8rem; cursor: pointer;
    transition: border-color 0.2s; user-select: none; text-align: center; padding: 5px;
    touch-action: none; z-index: 5; 
}
.card-slot:hover { border-color: var(--primary); background: rgba(255,255,255,0.05); }
.card-slot.filled { border-style: solid; background: var(--bg-card); color: var(--primary); font-family: var(--font-serif); }
.rotate-handle {
    width: 18px; height: 18px; background: var(--primary); border-radius: 50%;
    position: absolute; top: -20px; left: 50%; transform: translateX(-50%);
    cursor: crosshair; z-index: 10; touch-action: none; 
}

/* Custom Scrollbars for Builder */
.builder-scrollbar {
    position: absolute; z-index: 20; background: rgba(255, 255, 255, 0.05);
    border-radius: 4px; opacity: 0; transition: opacity 0.3s ease-out; pointer-events: none; 
}
.builder-scrollbar.horizontal { left: 8px; right: 8px; bottom: 8px; height: 6px; }
.builder-scrollbar.vertical { top: 8px; bottom: 8px; right: 8px; width: 6px; }
.builder-scrollbar .thumb {
    background: var(--primary); border-radius: 4px; width: 100%; height: 100%; transform-origin: 0 0;
}
.tarot-table.scrolling .builder-scrollbar { opacity: 1; }

.builder-layout { display: flex; gap: 2rem; height: 600px; }
.builder-mode { border: 1px solid var(--border-subtle); border-radius: 8px; height: 100%; touch-action: none; }
.builder-sidebar { width: 250px; display: flex; flex-direction: column; gap: 1rem; }
.help-box { background: var(--bg-card); padding: 1rem; border-radius: 8px; border: 1px solid var(--border-subtle); color: var(--text-muted); font-size: 0.9rem; }